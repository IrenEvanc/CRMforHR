<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<form action="#" th:action="@{/update/{id}(id=${candidate.id})}" th:object="${candidate}" method="post">
    <!--<form action="#" th:action="@{/emailokcand/{id}(id=${candidate.id})}" th:object="${candidate.user}" method="post">-->

    <head>
        <meta charset="UTF-8">
        <meta username="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="/style.css/"/>
        <title>Редактировать информацию</title>
    </head>
    <body>
    <div class="popup_body">
        <div class="popup_content">
            <a href="/closex" class="popup_close close-popup">X</a>
            <div class="popup_title">Редактирование</div>
            <table class="table_info">
                <tbody>
                <tr>
                    <td>
                        <label></label>
                    </td>
                    <td>
                        <input type="hidden" th:field="${candidate.user.id}" class="form-control" id="user.id" placeholder="user.id">
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <label>Фамилия:</label>
                    </td>
                    <td>
                        <input type="text" th:field="${candidate.user.surname}" class="form-control" id="surname" placeholder="surname">
<!--                        <span th:text="${candidate.user.surname}"></span>-->
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <label>Имя:</label>
                    </td>
                    <td>
                        <input type="text" th:field="${candidate.user.username}" class="form-control" id="username" placeholder="username" th:readonly="true">
<!--                        <span th:text="${candidate.user.username}"></span>-->
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <label>Отчество:</label>
                    </td>
                    <td>
                        <input type="text" th:field="${candidate.user.fathersName}" class="form-control" id="fathersName" placeholder="fathersName" th:readonly="true">
<!--                        <span th:text="${candidate.user.fathersName}"></span>-->
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <label>Почта:</label>
                    </td>
                    <td>
                        <input type="text" th:field="${candidate.user.email}" class="form-control" id="email" placeholder="email">
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <label>Телефон:</label>
                    </td>
                    <td>
                        <input type="text" th:field="${candidate.user.phone}" class="form-control" id="phone" placeholder="phone">
                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <label>Должность:</label>
                    </td>
                    <td>
                        <select class="form-control" th:id="post" th:name="post">
                            <option th:each="post : ${postes}"
                                    th:value="${post}"
                                    th:text="${post.id}+ ''+${post.name}"
                                    th:selected="${candidate.isSelectedPost(post)}"
                                    th:data-id="${post.id}" th:data-name="${post.name}">
                            </option>
                        </select>

<!--                        <input type="text" th:value="${candidate.post.name}" class="form-control" id="post.name" placeholder="post.name">-->
                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        <label>Статус:</label>
                    </td>
                    <td>
                        <select class="form-control" th:id="status"
                                th:name="status">
                            <option th:each="status : ${statuses}"
                                    th:value="${status}"
                                    th:text="${status.id}+ ''+${status.name}"
                                    th:selected="${candidate.isSelectedStatus(status)}"
                                    th:data-id="${status.id}" th:data-name="${status.name}">
                            </option>
                        </select>
<!--                        <input type="text" th:value="${candidate.status.name}" class="form-control" id="status.name" placeholder="status.name">-->
                    </td>
                    <td></td>
                <tr>
                <tr>
                    <td></td>
                    <td>
                        <input type="hidden" th:field="*{status.id}" class="form-control" id="statusId"  placeholder="statusId">
                        <td>
                    <td></td>
                <tr>
                    <td></td>
                    <td>
                    <input type="hidden" th:field="*{status.name}" class="form-control" id="statusName"   placeholder="statusName">
                    <td>
                    <td></td>
                <tr>
                    <td></td>
                    <td>
                    <input type="hidden" th:field="*{post.id}" class="form-control" id="postId" placeholder="postId">
                    <td>
                    <td></td>
                <tr>
                    <td></td>
                    <td>
                    <input type="hidden" th:field="*{post.name}" class="form-control" id="postName" placeholder="postName">
                    <td>
                    <td></td>
                <tr>

            <tr>
                <td>№</td>
                <td>Наменование тега</td>
                <td>Уровень владения</td>
            </tr>
                <tr th:each="mapItem, state:${candidate.tagLevelMap}">
                    <td th:utext="${state.count}"> </td>
                    <td th:utext="${mapItem.key.name}"> </td>
                    <td th:utext="${mapItem.value.level}"> </td>
                    </tr>
            </tbody>
            </table>
            <div>
                                    <input type="submit" class="text-field_btn" value="Обновить информацию">
                                </div>
                            </div>
<!-        </div>
    <script src="/popup.js/"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#status").change(function () {
                $("#statusId").val($("#status option:selected").attr("data-id"));
                $("#statusName").val($("#status option:selected").attr("data-name"));
            });
            $("#post").change(function () {
                $("#postId").val($("#post option:selected").attr("data-id"));
                $("#postName").val($("#post option:selected").attr("data-name"));
            })
        });
    </script>
    </div>
    <script src="/popup.js/"></script>
    </body>
</form>

</html>

<!--<div>-->
<!--    <label for="status">Теги</label>-->
<!--    <div th:each="tag:${candidate.tags}">-->
<!--        <input type="text" th:text="${tag.name}" class="form-control" id="tags" placeholder="tags">-->
<!--        &lt;!&ndash;                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger"></span>&ndash;&gt;&ndash;&gt;-->
<!--    </div>-->
<!--</div>-->

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<form action="#" th:action="@{/update/{id}(id=${candidate.id})}" th:object="${candidate}" method="post">-->
<!--    &lt;!&ndash;<form action="#" th:action="@{/emailokcand/{id}(id=${candidate.id})}" th:object="${candidate.user}" method="post">&ndash;&gt;-->

<!--    <head>-->
<!--        <meta charset="UTF-8">-->
<!--        <meta username="viewport" content="width=device-width, initial-scale=1">-->
<!--        <link rel="stylesheet" type="text/css" href="/style.css/"/>-->
<!--        <title>Редактировать информацию</title>-->
<!--    </head>-->
<!--    <body>-->
<!--    <div class="popup_body">-->
<!--        <div class="popup_content">-->
<!--            <a href="/closex" class="popup_close close-popup">X</a>-->
<!--            <div class="popup_title">Редактирование</div>-->
<!--            <div class="row">-->
<!--                <div>-->
<!--                    <label for="userId"></label>-->
<!--                    <input type="hidden" th:field="*{user.id}" class="form-control" id="userId" placeholder="userId">-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="surname">Фамилия</label>-->
<!--                    <input type="text" th:field="*{user.surname}" class="form-control" id="surname"-->
<!--                           placeholder="surname" th:readonly="true">-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="username">Имя</label>-->
<!--                    <input type="text" th:field="*{user.username}" class="form-control" id="username"-->
<!--                           placeholder="username">-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="fathersName">Отчество</label>-->
<!--                    <input type="text" th:field="*{user.fathersName}" class="form-control" id="fathersName"-->
<!--                           placeholder="fathersName">-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('fathersName')}" th:errors="*{fathersName}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="email">Почта</label>-->
<!--                    <input type="text" th:field="*{user.email}" class="form-control" id="email" placeholder="email">-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="phone">Телефон</label>-->
<!--                    <input type="text" th:field="*{user.phone}" class="form-control" id="phone" placeholder="phone">-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="post">Должность</label>-->
<!--                    <select class="form-control" th:id="post" th:name="post">-->
<!--                        <option th:each="post : ${postes}"-->
<!--                                th:value="${post}"-->
<!--                                th:text="${post.id}+ ''+${post.name}"-->
<!--                                th:selected="${candidate.isSelectedPost(post)}"-->
<!--                                th:data-id="${post.id}" th:data-name="${post.name}">-->
<!--                        </option>-->
<!--                    </select>-->
<!--&lt;!&ndash;                    &lt;!&ndash;            <input type="text" th:field="*{post}" class="form-control" id="post" placeholder="post">&ndash;&gt;&ndash;&gt;-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <label for="status">Статус</label>-->
<!--                    <select class="form-control" th:id="status"-->
<!--                            th:name="status">-->
<!--                        <option th:each="status : ${statuses}"-->
<!--                                th:value="${status}"-->
<!--                                th:text="${status.id}+ ''+${status.name}"-->
<!--                                th:selected="${candidate.isSelectedStatus(status)}"-->
<!--                                th:data-id="${status.id}" th:data-name="${status.name}">-->
<!--                        </option>-->
<!--                    </select>-->
<!--                    &lt;!&ndash;<input type="text" th:field="*{status}" class="form-control" id="status" placeholder="status">&ndash;&gt;-->
<!--                    &lt;!&ndash;                    <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="text-danger"></span>&ndash;&gt;-->
<!--                </div>-->
<!--                <div>-->
<!--                    <input type="hidden" th:field="*{status.id}" class="form-control" id="statusId"  placeholder="statusId">-->
<!--                    <input type="hidden" th:field="*{status.name}" class="form-control" id="statusName"   placeholder="statusName">-->
<!--                    <input type="hidden" th:field="*{post.id}" class="form-control" id="postId" placeholder="postId">-->
<!--                    <input type="hidden" th:field="*{post.name}" class="form-control" id="postName" placeholder="postName">-->
<!--                </div>-->

<!--            </div>-->
<!--            <div class="row">-->
<!--                <div>-->
<!--                    <input type="submit" class="text-field_btn" value="Обновить информацию">-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="table_and_search">-->
<!--                <table class="table_info_tag">-->
<!--                    <tbody>-->
<!--                    <tr th:each="tag:${candidate.tags}">-->
<!--                        <td th:text="${tag.name}"></td>-->
<!--                    </tbody>-->
<!--                </table>-->

<!--                <div class="search">-->
<!--                    <label for="tagcand">Добавить теги:</label>-->
<!--                    <select type="text" id="tagcand" class="popup_field" required autocomplete="off">-->
<!--                        <option-->
<!--                                th:each="tag:${tags}"-->
<!--                                th:text="${tag.name}">-->
<!--                        </option>-->
<!--                    </select>-->
<!--                    <button class="text-field_btn" type="submit"><a class="not_line_href"-->
<!--                                                                    href="/addtagcand">добавить</a></button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->



<!--    </div>-->
<!--    </body>-->
<!--</form>-->

<!--</html>-->
